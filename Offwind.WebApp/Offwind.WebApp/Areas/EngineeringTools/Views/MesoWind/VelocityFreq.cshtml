@using System.Web.Script.Serialization
@model Offwind.WebApp.Models.VWebPageSimpleObject<List<Offwind.WebApp.Areas.EngineeringTools.Models.MesoWind.HPoint>>
<ul class="breadcrumb">
    <li><a href="@Url.Action("Index", "Home", new { area = "" })"><i class="icon-home"></i></a> <span class="divider">/</span></li>
    <li><a href="@Url.Action("Index", "EngineeringTools", new { area = "EngineeringTools" })">Engineering Tools</a> <span class="divider">/</span></li>
    <li>Meso Wind <span class="divider">/</span></li>
    <li>Velocity Freq.</li>
</ul>
<div class="row-fluid row-content-block">
    <div class="span12 well">
        <div id="chartdiv" style="width: 100%; height: 480px;"></div>
    </div>
</div>
@section scripts
{   
    @Scripts.Render("~/static/js/highcharts.js")
    @Scripts.Render("~/static/js/exporting.js")
    <script type="text/javascript">
        var chartData = @(Html.Raw(new JavaScriptSerializer().Serialize(Model.SimpleObject)));
        var chart = new Highcharts.Chart({
            chart: {
                renderTo: 'chartdiv'
            },
            title: {
                text: ''
            },
            xAxis: {
                min: 0,
                title: {
                    text: 'Direction'
                }
            },
            yAxis: {
                title: {
                    text: 'Frequency'
                }
            },
            legend: {
                enabled: false
            }
        });
        chart.addSeries({
            name: "Frequency",
            visible: true,
            type: 'bar',
            marker: {
                enabled: false
            }
        });
        var graph = [];
        for (var i = 0; i < chartData.length; i++)
        {
            graph.push({ x: chartData[i].Dir, y: chartData[i].Frequency });
        }
        chart.series[0].setData(graph);
    </script>
}